# S-DES 作业

具体说明见S-DES加密算法开发手册word文档

## 实验简介
实验使用 Java语言实现了S-DES算法实现了加密、解密实验。

## 标准设定

1.1 分组长度：8-bit

1.2 密钥长度：10-bit

1.3 算法描述：

1.3.1 加密算法：[C=IP^{-1}(f_{k_{2}}(SW(f_{k_{1}}(IP(P)))))]

1.3.2 解密算法：[P=IP^{-1}(f_{k_{1}}(SW(f_{k_{2}}(IP(C)))))]

1.3.3 密钥扩展：[k_{i}=P_{8}(Shift^{i}(P_{10}(K))),  (i=1,2)]

1.4 转换装置设定：

1.4.1 密钥扩展置

- [P_{10}=(3,5,2,7,4,10,1,9,8,6)]

- [P_{8}=(6,3,7,4,8,5,10,9)]

- [Left_Shift^1=(2,3,4,5,1)]

- [Left_Shift^2=(3,4,5,1,2)]

1.4.2 初始置换盒

- [IP=(2,6,3,1,4,8,5,7)]

1.4.3 最终置换盒

- [IP^{-1}=(4,1,3,5,7,2,8,6)]

1.4.4 轮函数[F]

- [EPBox=(4,1,2,3,2,3,4,1)]

- [SBox_{1}=[(1,0,3,2);(3,2,1,0);(0,2,1,3);(3,1,0,2)\]]

- [SBox_{2}=[(0,1,2,3);(2,3,1,0);(3,0,1,2);(2,1,0,3)\]]

- [SPBox=(2,4,3,1)]

## 实验关卡
第1关：基本测试：实现标准 S-DES 算法的加密与解密，支持 8-bit 数据与 10-bit 密钥。

第2关：交叉测试：验证算法标准化：不同同学编写的程序在同一密钥下应生成相同密文。

第3关：扩展功能：支持 ASCII 字符串输入（每字节为一分组），实现对任意字符串加/解密。

第4关：暴力破解：给定明密文对，遍历 1024 种 10-bit 密钥，找出匹配密钥；支持多线程和进度条；结果可导出 CSV 和可视化图表。

第5关：封闭测试：对给定明文枚举所有密钥，分析是否存在多个不同密钥生成相同密文的“碰撞”现象；支持图表可视化和导出结果。

## 实验结果
具体结果见S-DES加密算法测试结果word文档
### （1）第一关：基本测试
1.1 加密
假设明文为10011001，密钥为1100101011，则生成的密文为11111001
<img width="416" height="118" alt="image" src="https://github.com/user-attachments/assets/57788c36-df0a-4854-b57a-4e50e16f30e6" />

1.2 解密
假设密文为11111001，密钥为1100101011，则生成的明文为10011001
<img width="416" height="119" alt="image" src="https://github.com/user-attachments/assets/17f15bf8-e1fe-4857-8d62-bff19ae5c58b" />

### （2）第二关：交叉测试
考虑到是算法标准，所有人在编写程序的时候需要使用相同算法流程和转换单元(P-Box、S-Box等)，以保证算法和程序在异构的系统或平台上都可以正常运行。设有A和B两组位同学(选择相同的密钥K)；则A、B组同学编写的程序对明文P进行加密得到相同的密文C；或者B组同学接收到A组程序加密的密文C，使用B组程序进行解密可得到与A相同的P。经验证，与其他团队的加解密算法的结果能对应。

### （3）第三关：扩展功能
考虑到向实用性扩展，加密算法的数据输入可以是ASII编码字符串(分组为1 Byte)，对应地输出也可以是ACII字符串(很可能是乱码)。
<img width="416" height="44" alt="image" src="https://github.com/user-attachments/assets/e914beb5-c9bc-4176-95c2-18d65ecda25e" />
<img width="371" height="132" alt="image" src="https://github.com/user-attachments/assets/81bc6a65-2811-4a9a-b943-e7c3bb3a4bbf" />

### （4）第四关：暴力破解
假设你找到了使用相同密钥的明、密文对(一个或多个)，请尝试使用暴力破解的方法找到正确的密钥Key。
<img width="199" height="109" alt="image" src="https://github.com/user-attachments/assets/ead8b31b-aac5-4c49-81ee-34d7214e3f84" />

### （5）第五关：封闭测试
根据第4关的结果，进一步分析，对于你随机选择的一个明密文对，是不是有不止一个密钥Key？进一步扩展，对应明文空间任意给定的明文分组P_{n}，是否会出现选择不同的密钥K_{i}\ne K_{j}加密得到相同密文C_n的情况？
<img width="247" height="141" alt="image" src="https://github.com/user-attachments/assets/628c1242-f309-45aa-8b1b-3ee03c6a5aa3" />


## 总结
### 典型问题​：
轮函数计算错误；

ASCII 转换乱码；

多线程数据安全。
### 应对
逐步骤对比程序输出与手动结果，定位错误并修正行号计算逻辑；

限制输入为纯 ASCII 字符，在界面添加输入提示，避免非 ASCII 字符传入；

确保同一时间仅 1 个线程修改结果列表，解决数据安全问题。

### 经验
算法原理优先：程序开发前需完全掌握 S-DES 流程（如子密钥生成顺序、轮函数异或逻辑），避免因原理理解偏差导致后期大量调试。​

测试驱动开发：核心函数编写完成后，应先通过单元测试（如固定密钥生成子密钥，验证是否与预期一致），再集成到 GUI 中，减少整体调试难度。

代码规范： 变量命名规范并且使用函数式编程。

